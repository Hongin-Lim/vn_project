<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Review Này</title>
  <link href="manifest.json" rel="manifest">
  <meta content="#000000" name="theme-color">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
  <script defer src="flutter.js"></script>

  <!-- Firebase Initialization -->
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
    import { getStorage } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCma1lBaGJ_96iAKX5HKTS0AzcPLUBK-ig",
      authDomain: "vn-project-bed5c.firebaseapp.com",
      projectId: "vn-project-bed5c",
      storageBucket: "vn-project-bed5c.firebasestorage.app",
      messagingSenderId: "777692029381",
      appId: "1:777692029381:web:da6f14e4639bdd7581ebac",
      measurementId: "G-2ST1LMX4RS"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const storage = getStorage(app);

    // 전역 객체에 storage 할당
    window.flutterStorage = storage;

    console.log("Firebase Initialized:", app);
    console.log("Storage Initialized:", storage);
    console.log("Storage attached to window:", window.flutterStorage);  // 추가
  </script>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js" type="text/javascript"></script>
</head>
<body>
<!-- Service Worker Registration -->
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/flutter_service_worker.js')
      .then(function (registration) {
        console.log('Service Worker 등록 성공:', registration.scope);
      })
      .catch(function (error) {
        console.error('Service Worker 등록 실패:', error);
      });
  }
</script>
<script src="main.dart.js"></script>
</body>
</html>